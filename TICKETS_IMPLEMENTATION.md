# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–∏–ª–µ—Ç–æ–≤ –≤ —Ñ–æ—Ä–º–µ POI ‚Äî –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–î–∞—Ç–∞**: 1 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ

## üé´ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### 1. –ë–ª–æ–∫ Tickets –≤ —Ñ–æ—Ä–º–µ POI

–î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª "–ë–∏–ª–µ—Ç—ã" –≤ —Ñ–æ—Ä–º—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è POI:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üé´ –ë–∏–ª–µ—Ç—ã * (–º–∏–Ω–∏–º—É–º 1 —Ç–∏–ø)            ‚îÇ
‚îÇ                        [+ –î–æ–±–∞–≤–∏—Ç—å]    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ [–¢–∏–ø –±–∏–ª–µ—Ç–∞ ‚ñº] [–¶–µ–Ω–∞] [JPY ‚ñº] [üóëÔ∏è] ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ [–¢–∏–ø –±–∏–ª–µ—Ç–∞ ‚ñº] [–¶–µ–Ω–∞] [JPY ‚ñº] [üóëÔ∏è] ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 2. –¢–∏–ø—ã –±–∏–ª–µ—Ç–æ–≤ —Å –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã–º–∏ –≥—Ä—É–ø–ø–∞–º–∏

–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–∏–ø—ã –±–∏–ª–µ—Ç–æ–≤:

| Value | –ù–∞–∑–≤–∞–Ω–∏–µ RU | –ù–∞–∑–≤–∞–Ω–∏–µ EN | –í–æ–∑—Ä–∞—Å—Ç |
|-------|-------------|-------------|---------|
| `infant` | –ú–ª–∞–¥–µ–Ω–µ—Ü | Infant | 0-5 |
| `child` | –†–µ–±—ë–Ω–æ–∫ | Child | 6-11 |
| `adult` | –í–∑—Ä–æ—Å–ª—ã–π | Adult | 12-64 |
| `senior65` | –ü–æ–∂–∏–ª–æ–π | Senior | 65+ |
| `senior60` | –ü–æ–∂–∏–ª–æ–π | Senior | 60+ |

### 3. –ü–æ–ª—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–∏–ª–µ—Ç–∞

- **–¢–∏–ø –±–∏–ª–µ—Ç–∞** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) - dropdown —Å –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã–º–∏ –≥—Ä—É–ø–ø–∞–º–∏
- **–¶–µ–Ω–∞** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) - number input, step=100, min=0
- **–í–∞–ª—é—Ç–∞** - dropdown (JPY –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, USD, EUR –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–∏—Ç—å** - —É–¥–∞–ª–µ–Ω–∏–µ –±–∏–ª–µ—Ç–∞ –∏–∑ —Å–ø–∏—Å–∫–∞

### 4. –í–∞–ª–∏–¥–∞—Ü–∏—è

- ‚úÖ –ú–∏–Ω–∏–º—É–º 1 –±–∏–ª–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
- ‚úÖ –í—Å–µ –ø–æ–ª—è –±–∏–ª–µ—Ç–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã (—Ç–∏–ø + —Ü–µ–Ω–∞)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –±–µ–∑ –±–∏–ª–µ—Ç–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ
- ‚úÖ –í–∞–ª—é—Ç–∞ JPY –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –±–∏–ª–µ—Ç–∞

```javascript
{
  category: 'adult',     // –¢–∏–ø –±–∏–ª–µ—Ç–∞
  price: 1500,           // –¶–µ–Ω–∞ (integer)
  currency: 'JPY'        // –í–∞–ª—é—Ç–∞
}
```

### –î–∞–Ω–Ω—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã

```javascript
{
  name_ru: "...",
  name_en: "...",
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è POI
  tickets: [                    // –ú–∞—Å—Å–∏–≤ –±–∏–ª–µ—Ç–æ–≤
    {
      category: 'adult',
      price: 1500,
      currency: 'JPY'
    },
    {
      category: 'child',
      price: 800,
      currency: 'JPY'
    }
  ]
}
```

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î

```sql
-- –¢–∞–±–ª–∏—Ü–∞ tickets
CREATE TABLE tickets (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    poi_id TEXT,                    -- –°–≤—è–∑—å —Å POI
    category TEXT,                  -- –¢–∏–ø –±–∏–ª–µ—Ç–∞ (infant, child, adult, etc.)
    price INTEGER,                  -- –¶–µ–Ω–∞
    currency TEXT DEFAULT 'JPY',    -- –í–∞–ª—é—Ç–∞
    note TEXT,                      -- –ó–∞–º–µ—Ç–∫–∞ (optional)
    created_at DATETIME,
    FOREIGN KEY (poi_id) REFERENCES pois(id)
);
```

### –ü—Ä–æ—Ü–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

1. **–£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –±–∏–ª–µ—Ç–æ–≤**:
   ```sql
   DELETE FROM tickets WHERE poi_id = ?
   ```

2. **–í—Å—Ç–∞–≤–∫–∞ –Ω–æ–≤—ã—Ö –±–∏–ª–µ—Ç–æ–≤**:
   ```sql
   INSERT INTO tickets (poi_id, category, price, currency, note)
   VALUES (?, ?, ?, ?, ?)
   ```

## üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Airtable

### –¢–∞–±–ª–∏—Ü–∞ Tickets –≤ Airtable

**Table ID**: `tblKOLhiHMihpWsVl`

### –¢—Ä–µ–±—É–µ—Ç—Å—è —É—Ç–æ—á–Ω–µ–Ω–∏–µ:

‚ùì **–ù–∞–∑–≤–∞–Ω–∏—è –ø–æ–ª–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ Tickets Airtable:**

1. **–°–≤—è–∑—å —Å POI** (linked record): "______"
2. **–¢–∏–ø –±–∏–ª–µ—Ç–∞** (category): "______"
3. **–¶–µ–Ω–∞** (price): "______"
4. **–í–∞–ª—é—Ç–∞** (currency): "______"
5. **–ó–∞–º–µ—Ç–∫–∞** (note): "______" (–µ—Å–ª–∏ –µ—Å—Ç—å)

### –ü–æ—Å–ª–µ —É—Ç–æ—á–Ω–µ–Ω–∏—è

–ë—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:

```
–§–æ—Ä–º–∞ POI ‚Üí save-poi.php ‚Üí SQLite tickets
                         ‚Üì
                    Airtable Tickets
                    (tblKOLhiHMihpWsVl)
```

## üé® UI/UX Features

### 1. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–∏–ª–µ—Ç–æ–≤

- –ö–Ω–æ–ø–∫–∞ "+ –î–æ–±–∞–≤–∏—Ç—å –±–∏–ª–µ—Ç" —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∏–ø–æ–≤
- –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –∏–º–µ–µ—Ç –∫–Ω–æ–ø–∫—É —É–¥–∞–ª–µ–Ω–∏—è

### 2. –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏

```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –º–∏–Ω–∏–º—É–º 1 –±–∏–ª–µ—Ç–∞
if (ticketRows.length === 0) {
  alert('–î–æ–±–∞–≤—å—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ç–∏–ø –±–∏–ª–µ—Ç–∞');
  return;
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ–ª–µ–π
tickets.forEach(ticket => {
  if (!ticket.category || !ticket.price) {
    alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –±–∏–ª–µ—Ç–æ–≤');
    return;
  }
});
```

### 3. –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

- –í–∞–ª—é—Ç–∞: **JPY** (¬•)
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞: **0**
- –®–∞–≥ –≤–≤–æ–¥–∞ —Ü–µ–Ω—ã: **100** (—É–¥–æ–±–Ω–æ –¥–ª—è —è–ø–æ–Ω—Å–∫–∏—Ö —Ü–µ–Ω)

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –•—Ä–∞–º —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –±–∏–ª–µ—Ç–æ–≤

```javascript
{
  name_ru: "–ö–∏–Ω–∫–∞–∫—É–¥–∑–∏",
  name_en: "Kinkakuji",
  tickets: [
    {category: 'adult', price: 500, currency: 'JPY'},
    {category: 'child', price: 300, currency: 'JPY'},
    {category: 'senior65', price: 400, currency: 'JPY'}
  ]
}
```

### –ü—Ä–∏–º–µ—Ä 2: –ú—É–∑–µ–π —Å –æ–¥–Ω–∏–º —Ç–∏–ø–æ–º –±–∏–ª–µ—Ç–∞

```javascript
{
  name_ru: "–¢–æ–∫–∏–π—Å–∫–∏–π –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –º—É–∑–µ–π",
  name_en: "Tokyo National Museum",
  tickets: [
    {category: 'adult', price: 1000, currency: 'JPY'}
  ]
}
```

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –±–∏–ª–µ—Ç–æ–≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
- ‚úÖ Dropdown —Å —Ç–∏–ø–∞–º–∏ –±–∏–ª–µ—Ç–æ–≤ (–≤–æ–∑—Ä–∞—Å—Ç–Ω—ã–µ –≥—Ä—É–ø–ø—ã)
- ‚úÖ –í–∞–ª—é—Ç–∞ JPY –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –º–∏–Ω–∏–º—É–º 1 –±–∏–ª–µ—Ç–∞
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –±–∏–ª–µ—Ç–æ–≤ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
- ‚úÖ –í—Å—Ç–∞–≤–∫–∞ –Ω–æ–≤—ã—Ö –±–∏–ª–µ—Ç–æ–≤

## ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Airtable —Ç–∞–±–ª–∏—Ü–µ–π Tickets

–ù—É–∂–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—è—Ö —Ç–∞–±–ª–∏—Ü—ã `tblKOLhiHMihpWsVl`:

1. –ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—è –¥–ª—è —Å–≤—è–∑–∏ —Å POI
2. –ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—è –¥–ª—è —Ç–∏–ø–∞ –±–∏–ª–µ—Ç–∞
3. –ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—è –¥–ª—è —Ü–µ–Ω—ã
4. –ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—è –¥–ª—è –≤–∞–ª—é—Ç—ã
5. –î—Ä—É–≥–∏–µ –ø–æ–ª—è?

### –ó–∞–≥—Ä—É–∑–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –±–∏–ª–µ—Ç–æ–≤ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

–ù—É–∂–Ω–æ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–æ—Ä–º—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –±–∏–ª–µ—Ç—ã –∏–∑ –ë–î –¥–ª—è —ç—Ç–æ–≥–æ POI
2. –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å –∏—Ö –≤ —Ñ–æ—Ä–º–µ
3. –ü–æ–∑–≤–æ–ª–∏—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ë–ª–æ–∫ Tickets –¥–æ–±–∞–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç  
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –£—Ç–æ—á–Ω–∏—Ç—å –ø–æ–ª—è —Ç–∞–±–ª–∏—Ü—ã Tickets –≤ Airtable –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

