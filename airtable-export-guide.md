# üîÑ –≠–∫—Å–ø–æ—Ä—Ç –∫–∞—Ä—Ç–æ—á–µ–∫ –∏–∑ Airtable

## üìã –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

–í –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö **–Ω–µ—Ç –∫–∞—Ä—Ç–æ—á–µ–∫ (POI)** - —Ç–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ä–µ–≥–∏–æ–Ω—ã –∏ –≥–æ—Ä–æ–¥–∞. –í—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Airtable –∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –æ—Ç—Ç—É–¥–∞.

## üéØ –®–∞–≥–∏ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏–∑ Airtable

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ API —Ç–æ–∫–µ–Ω–∞ Airtable

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://airtable.com/create/tokens
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç Airtable
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω —Å –ø—Ä–∞–≤–∞–º–∏:
   - `data.records:read` - –¥–ª—è —á—Ç–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π
   - `data.bases:read` - –¥–ª—è —á—Ç–µ–Ω–∏—è –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ–∫–µ–Ω–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
export AIRTABLE_PAT="your_token_here"

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
./setup-airtable-token.sh
```

### 3. –ó–∞–ø—É—Å–∫ —ç–∫—Å–ø–æ—Ä—Ç–∞

```bash
# –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ Airtable
php export-airtable.php
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Airtable

### –¢–∞–±–ª–∏—Ü—ã:
- **Regions** (`tblbSajWkzI8X7M4U`) - –†–µ–≥–∏–æ–Ω—ã –Ø–ø–æ–Ω–∏–∏
- **Cities** (`tblHaHc9NV0mA8bSa`) - –ì–æ—Ä–æ–¥–∞ –∏ –ª–æ–∫–∞—Ü–∏–∏  
- **POIs** (`tblVCmFcHRpXUT24y`) - **–ö–∞—Ä—Ç–æ—á–∫–∏ (—Ç–æ—á–∫–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞)**

### –ü–æ–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ (POI):
- `POI Name (RU)` - –ù–∞–∑–≤–∞–Ω–∏–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- `POI Name (EN)` - –ù–∞–∑–≤–∞–Ω–∏–µ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
- `Category` - –ö–∞—Ç–µ–≥–æ—Ä–∏—è
- `Place ID` - Google Places ID
- `Published` - –°—Ç–∞—Ç—É—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- `A ID` - –ë–∏–∑–Ω–µ—Å-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (POI-XXXX)
- `Regions` - –°–≤—è–∑—å —Å —Ä–µ–≥–∏–æ–Ω–æ–º
- `Description` - –û–ø–∏—Å–∞–Ω–∏–µ
- `Latitude`, `Longitude` - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã

## üîß –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã —ç–∫—Å–ø–æ—Ä—Ç–∞

### 1. –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Airtable
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É POIs –≤ Airtable
2. –ù–∞–∂–º–∏—Ç–µ "Export" ‚Üí "CSV"
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è
4. –°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª

### 2. –ß–µ—Ä–µ–∑ Airtable API –Ω–∞–ø—Ä—è–º—É—é
```bash
curl -H "Authorization: Bearer YOUR_TOKEN" \
  "https://api.airtable.com/v0/apppwhjFN82N9zNqm/tblVCmFcHRpXUT24y?pageSize=100" \
  > pois_export.json
```

### 3. –ß–µ—Ä–µ–∑ –Ω–∞—à —Ç–µ—Å—Ç–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
–û—Ç–∫—Ä–æ–π—Ç–µ `test-api-browser.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API

## üìÅ –†–µ–∑—É–ª—å—Ç–∞—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ –ø–∞–ø–∫–µ `exports/` –ø–æ—è–≤—è—Ç—Å—è —Ñ–∞–π–ª—ã:

```
exports/
‚îú‚îÄ‚îÄ regions_YYYY-MM-DD_HH-MM-SS.json
‚îú‚îÄ‚îÄ regions_YYYY-MM-DD_HH-MM-SS.csv
‚îú‚îÄ‚îÄ cities_YYYY-MM-DD_HH-MM-SS.json
‚îú‚îÄ‚îÄ cities_YYYY-MM-DD_HH-MM-SS.csv
‚îú‚îÄ‚îÄ pois_YYYY-MM-DD_HH-MM-SS.json      ‚Üê –ö–ê–†–¢–û–ß–ö–ò
‚îú‚îÄ‚îÄ pois_YYYY-MM-DD_HH-MM-SS.csv       ‚Üê –ö–ê–†–¢–û–ß–ö–ò
‚îî‚îÄ‚îÄ all_data_YYYY-MM-DD_HH-MM-SS.json
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–¢–æ–∫–µ–Ω –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**: –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ git
2. **–õ–∏–º–∏—Ç—ã API**: Airtable –∏–º–µ–µ—Ç –ª–∏–º–∏—Ç—ã –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
3. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è**: –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –±–æ–ª—å—à–∏–µ –æ–±—ä–µ–º—ã –¥–∞–Ω–Ω—ã—Ö
4. **–ö–æ–¥–∏—Ä–æ–≤–∫–∞**: –í—Å–µ —Ñ–∞–π–ª—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ UTF-8

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### "API key not configured"
```bash
export AIRTABLE_PAT="your_token_here"
```

### "HTTP 401 Unauthorized"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –Ω–µ –∏—Å—Ç–µ–∫

### "HTTP 404 Not Found"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Base ID: `apppwhjFN82N9zNqm`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Table ID –¥–ª—è POIs: `tblVCmFcHRpXUT24y`

### "No data exported"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ —Ç–∞–±–ª–∏—Ü–µ POIs –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ —Ç–æ–∫–µ–Ω–∞
