# Design Guidelines for Constructour (2025)

Этот документ описывает принципы визуального дизайна, которых следует придерживаться при создании интерфейса Constructour. Он агрегирует существующие рекомендации и расширяет их с учётом выбранного технологического стека (React + Next.js + TypeScript + TailwindCSS) и пожеланий по стилю (Liquid Glass/neomorphism, современность, компактность). Документ предназначен как для людей‑разработчиков, так и для систем с искусственным интеллектом, работающих через Cursor.

> **Единый источник правды.** В ходе анализа предыдущего набора документов было отмечено, что темы дизайна (цвета, типографика, анимации, доступность) разнесены по нескольким файлам, что приводит к дублированию и сложности поддержки【534680704413190†L343-L459】. Чтобы устранить этот недостаток, настоящий документ служит **единой точкой** для правил визуального оформления. Другие файлы (requirements, development guidelines и т.д.) должны ссылаться на соответствующие разделы здесь, а не повторять их. Это упростит обновление правил и снизит риск противоречий【534680704413190†L343-L459】.

## 1 Общие принципы

- **Единая сетка**. Используйте восьмипиксельную сетку (8 px grid) для ритмичного расположения элементов. Это обеспечивает визуальный порядок и упрощает адаптивную верстку【3†L4-L9】. Избегайте произвольных величин: все отступы, поля, скругления и размеры должны быть кратны 4 или 8 px.

- **Адаптивность**. Интерфейс должен гармонично работать на мобильных, планшетах и настольных устройствах. Используйте брейкпоинты: до 768 px — мобильный режим, 768–1024 px — планшет, свыше 1024 px — десктоп【3†L4-L9】. Ориентируйтесь на мобильный подход (mobile‑first), чтобы сайт не «расползался» на широких экранах.

- **Светлая и тёмная темы**. Реализуйте две цветовые схемы и переключение через `prefers-color-scheme` с ручной возможностью выбрать тему. Это требование отражено в технических требованиях【6†L17-L18】. Светлая тема должна быть яркой и лёгкой, тёмная — контрастной, но щадящей для глаз. Ключевые значения цветов (primary, background, surface, accent) определяются в дизайн‑токенах (см. раздел «Цвет и свет»).

- **Liquid Glass / Neomorphism**. Основной визуальный стиль — полупрозрачные панели с размытием фона, мягкими тенями и плавными градиентами【6†L14-L16】. Используйте `backdrop-blur`, soft‑shadows и градиенты, чтобы создавать эффект «жидкого стекла». Не перегружайте интерфейс: эффект должен оставаться subtle, чтобы не отвлекать пользователя от содержания.

- **Доступность**. Соблюдайте WCAG 2.2 AA: контраст текста ≥ 4,5:1, видимый фокус для клавиатурной навигации и элементы управления размером не меньше 44×44 px【6†L10-L11】. Поддерживайте `prefers‑reduced‑motion`, отключая анимации для тех, кто этого требует【3†L21-L22】. Для проверки используйте инструменты проверки доступности.

- **Контроль компактности**. Избегайте чрезмерной растянутости на широких экранах. Основной контент должен располагаться в ограниченной ширине (например, `max‑width: 1440 px`), центрироваться и иметь достаточные поля слева и справа. На мобильных и небольших мониторах элементы должны складываться вертикально без горизонтальной прокрутки. Это упрощает работу пользователям на небольших экранах.

## 2 Макет и навигация

- **Главный каркас**. Структура каждой страницы состоит из трёх зон: `header` (логотип, основное меню, переключатели темы/языка), `main` (основной контент: формы, редактор тура, списки), `footer` (контактная информация и вспомогательные ссылки). Подход рекомендуется в требованиях【6†L9-L10】 и облегчает навигацию.

- **Навигационное меню**. На десктопе используйте горизонтальное меню или боковую панель с иконками и подписями. На мобильных — burger‑меню или нижнюю навигационную панель. Активный пункт должен быть визуально выделен. При большом количестве пунктов предусмотрите возможность сворачивания разделов.

- **Модальные окна и оверлеи**. Используйте полупрозрачный фон и эффект blur для затемнения основной страницы и фокусировки внимания на модальном окне. Проследите, чтобы модальные окна оставались в зоне видимости на устройствах с низким разрешением.

- **Карточки и таблицы**. Большие объемы данных (список туров, заявки клиентов, элементы подневного плана) представляются в виде карточек или таблиц. Карточки служат для быстрой ориентации; таблицы — для редактирования. Предусмотрите режим компактного отображения на мобильных: скрывать второстепенные столбцы, использовать аккордеон для подробностей.

## 3 Цвет и свет

Цветовая палитра контролируется через дизайн‑токены (см. файл `tailwind.config.js`).

- **Базовые цвета**. Определите основной цвет (`primary`), вторичный (`secondary`), цвета фона (`background`) и поверхностей (`surface`), а также акцент (`accent`). Токены хранятся в формате OKLCH для корректной работы в светлой и тёмной темах. Пример токенов приведён в конфигурации Tailwind. Тёмная и светлая палитры должны поддерживать «щадящий режим», снижая яркость и насыщенность【6†L16-L18】.

- **Контраст и доступность**. Убедитесь, что все сочетания цветов для текста и фона имеют контраст ≥ 4,5:1 (WCAG AA)【3†L15-L18】. Используйте специальные инструменты (например, в Figma) для проверки контраста и симуляции дальтонизма【6†L16-L17】.

- **Градиенты и прозрачность**. Допускается использование мягких градиентов и прозрачности для усиления эффекта стекла. Градиенты должны быть subtle и гармонировать с основными цветами. Избегайте резких переходов и чрезмерной яркости.

## 4 Типографика

- **Основной шрифт** — **Roboto**. Подключайте его локально (woff2), чтобы исключить внешние загрузки. Весовые значения: 400, 500 и 700 для нормального текста, полужирного и заголовков соответственно. Размеры шрифтов адаптируйте через функцию `clamp()` для fluid typography【6†L7-L9】: например, базовый размер `clamp(0.875rem, 0.9vw + 0.5rem, 1rem)`.

- **Иерархия заголовков**. Используйте `<h1>`–`<h4>` в порядке убывания важности; избегайте пропусков уровней. Заголовки должны быть заметно крупнее основного текста, но не более 1.5×. Межстрочный интервал (line‑height) — от 1.4 до 1.6 для улучшения читаемости【3†L8-L10】.

- **Межбуквенные расстояния**. Для заголовков допускается небольшое сокращение `letter‑spacing` (‑0.5 px), для основного текста — стандартные значения. Не злоупотребляйте декоративными шрифтами; сохраняйте деловой, современный стиль.

## 5 Компоненты и паттерны

- **Кнопки**. Две основных вариации: `primary` и `secondary`. Кнопки имеют одинаковый радиус скругления (16 px), высоту не менее 44 px и отступы по 16 px. В активном состоянии кнопка может слегка увеличиваться (scale 1.02) и менять тень. Все кнопки должны реагировать на `:hover`, `:focus` и `:active` состояния, а также поддерживать атрибут `aria‑label` для озвучивания. Для доступа к стилям использованы Tailwind‑классы.

- **Формы и поля ввода**. Поля имеют прозрачный или светлый фон, контурный или внутренний тень, скругление 12 px. Подписывайте поля сверху или используйте плавающие метки. Валидация ошибок отображается красным текстом и иконкой, текст подсказки — серым.

- **Карточки (Card)**. Карточки применяются для отображения туров, профилей клиентов и элементов плана. Они имеют эффект стекла: фон `surface` с `backdrop‑blur` и мягкой тенью. Внутри карточки изображения, название, краткая информация и кнопки. На мобильных карточки растягиваются на всю ширину и имеют увеличенную высоту.

- **Drag & Drop**. Для перемещения блоков (например, объектов в подневном плане) используйте библиотеку dnd‑kit. Перетаскиваемые элементы должны иметь визуальный «хват» (иконка из трёх полос). При перетаскивании элемент слегка приподнимается, масштабируется до 1.05 и получает тень. Зона, куда можно перетащить, подсвечивается вторичным цветом.

- **Прогресс‑бар**. Применяется в многошаговых формах (анкета клиента). Прогресс‑бар отображает количество завершённых шагов и заполнен основным цветом; фон — приглушённый вторичный цвет. Обновляйте прогресс по мере заполнения.

## 6 Визуальная иерархия

- **Фотографии и иллюстрации**. Главный акцент на фото туров: на десктопе они могут быть full‑width; на мобильном — в виде карусели. Изображения должны иметь радиус скругления, соответствующий карточкам (20 px). Не злоупотребляйте декоративными рамками.

- **Карты**. Интегрируйте карты (Mapbox/Google Maps) в стиле Liquid Glass: поверх карты можно наложить затемнение и blur, чтобы обеспечить читаемость элементов управления【3†L15-L18】. Иконки на карте стилизуйте в соответствии с основной цветовой палитрой.

- **Контраст**. Уделяйте внимание контрасту: активные элементы (кнопки, ссылки) должны выделяться на фоне, но не «кричать». Второстепенный текст должен быть заметно светлее или темнее фона【3†L15-L18】.

## 7 Анимации и взаимодействия

- **Микро‑анимации**. Используйте плавные микровзаимодействия для повышения отзывчивости интерфейса: hover‑эффекты, лёгкое увеличение, смещение, fade‑in/out. Для реализации подходит Framer Motion【3†L11-L11】. Длительность анимаций — 150–300 мс.

- **Скелетоны (Skeleton screens)**. При загрузке данных отображайте светло‑серые placeholder‑элементы вместо спиннеров. Этот паттерн упомянут в требованиях【6†L10-L11】 и создаёт ощущение более быстрого отклика.

- **Reduced motion**. Учитывайте пользовательские настройки `prefers‑reduced‑motion`【3†L21-L22】. При их активации выключайте все анимации и используйте статичные состояния (без смещения и масштабирования).

## 8 Компактность и адаптивность

- **Максимальная ширина**. Ограничивайте ширину контентной зоны (например, 1200–1440 px) и центрируйте её. На больших экранах свободное пространство заполняется фоновыми узорами или градиентами. Это предотвращает «расползание» интерфейса.

- **Колонки и сетки**. Используйте CSS Grid или Flexbox для построения сложных интерфейсов. На десктопе можно отображать несколько колонок (например, лента туров и фильтр сбоку), а на мобильном — переходить в одну колонку с вертикальным скроллингом. Избегайте горизонтальной прокрутки.

- **Управление высотой**. Устанавливайте `min-height` для модальных окон и страниц, чтобы они занимали достаточную высоту, но не требовали прокрутки вверх/вниз для доступа к основным действиям.

- **Тестирование на устройствах**. Тестируйте интерфейс на разных устройствах (смартфоны, планшеты, ноутбуки) и используйте инструменты, такие как BrowserStack, для проверки edge‑кейсов【6†L4-L7】. На небольших мониторах убедитесь, что все элементы доступны без масштабирования.

## 9 Критерии приёмки дизайна

Перед публикацией или завершением итерации проверьте:

1. **Соответствие сетке**. Все элементы выровнены по 8 px grid; отступы кратны 4 px.
2. **Корректная работа в обеих темах**. Цветовые токены переключаются, контраст сохраняется, никакие элементы не «исчезают» при смене темы.
3. **Liquid Glass реализован аккуратно**: панели имеют адекватный уровень прозрачности и размытия, нет визуального шума; текст читаем на полупрозрачных фонах.
4. **Доступность**. Контраст текста и фона ≥ 4,5:1【3†L15-L18】; интерактивные элементы имеют размер ≥ 44 px × 44 px; формы снабжены `aria‑label`; реализована поддержка `prefers‑reduced‑motion` и `prefers‑color‑scheme`.
5. **Адаптивность**. Страницы корректно отображаются и управляются на экранах всех размеров. Нет горизонтальной прокрутки; элементы «не расползаются» на больших мониторах.
6. **Единые компоненты**. Все кнопки, карточки и формы используют один набор токенов; нет инлайновых стилей; единая типографика; consistent hover/active состояния.
7. **Производительность**. Нет тяжёлых фоновых изображений или анимаций, блокирующих загрузку. Используется lazy‑loading для больших картинок.

Следуя этим правилам, вы обеспечите единый и современный вид интерфейса, совместимый со светлой и тёмной темами, доступный и удобный на всех устройствах. Документ должен использоваться как справочник при разработке новых компонентов и экранов.