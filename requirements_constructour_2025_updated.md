# Requirements for Constructour (2025) — Updated

Этот документ описывает обязательные требования для интерфейса Constructour, обновлённые с учётом выбранного технологического стека и пожеланий по дизайну. Требования распределены по категориям: адаптивность и доступность, визуальный стиль, технические характеристики и интеграции, а также критерии приёмки.

## 1 Адаптивность и доступность

- **Полный responsive design**. Сайт должен корректно работать на смартфонах, планшетах и десктопах любых диагоналей. Используйте mobile‑first подход и тестируйте на реальных устройствах (например, BrowserStack) для edge‑кейсов【726677271835452†L3-L7】. Избегайте горизонтальной прокрутки и следите, чтобы интерфейс не «расползался» на больших экранах.

- **Fluid typography**. Размеры шрифта и интервалов масштабируются через `clamp()` без резких скачков между брейкпоинтами【726677271835452†L7-L9】. Минимальный размер шрифта на мобильных — 0.75 rem【950756470266535†L24-L26】.

- **Семантическая разметка**. Используйте `<header>`, `<nav>`, `<main>` и `<footer>` для улучшения SEO и доступности【726677271835452†L10-L11】. Интерактивные элементы должны иметь ARIA‑атрибуты【950756470266535†L17-L20】.

- **WCAG 2.2 AA**. Контраст текста и фона не менее 4,5:1; клавиатурный фокус должен быть видимым; тач‑элементы — не меньше 44×44 px【726677271835452†L12-L14】. Сайт должен учитывать `prefers‑reduced‑motion` и предоставлять альтернативный опыт без анимаций【726677271835452†L15-L16】.

- **i18n**. Интерфейс должен поддерживать мультиязычность; динамическая загрузка переводов (например, JSON‑файлов) в зависимости от выбранного языка【726677271835452†L52-L53】.

## 2 Визуальный стиль — Liquid Glass

- **Жидкое стекло**. Используются полупрозрачные панели, размытие фона (`backdrop‑blur`), мягкие тени и плавные градиенты【726677271835452†L19-L21】. Эффекты должны быть subtle и не отвлекать от контента. Не перегружайте страницы многочисленными эффектами.

- **Щадящий режим и адаптация**. Предоставьте режим с пониженной яркостью и насыщенностью цветов для комфортной работы в тёмной теме【726677271835452†L22-L24】. Автоматическое переключение тем реализуйте через `prefers‑color‑scheme` с возможностью ручного выбора【726677271835452†L25-L26】.

- **Современная типографика**. Используйте переменные шрифты (Roboto) и размещайте их локально; избегайте сетевых подключений【726677271835452†L27-L30】. Проверьте производительность эффекта `backdrop‑blur` на слабых устройствах【726677271835452†L29-L30】.

## 3 Технические характеристики

- **Технологический стек**. Frontend строится на React 18 + Next.js + TypeScript. TailwindCSS используется для оформления; дизайн‑токены определяются в `tailwind.config.js`. Эти параметры соответствуют разделу «Технические характеристики» исходного документа【726677271835452†L32-L40】, но заменяют Vite на Next.js.

- **Архитектура компонентов**. Создавайте атомарные и устойчивые компоненты: Button, Input, Card, Layout Grid【726677271835452†L35-L36】. Документируйте их в Storybook и поддерживайте полную дизайн‑систему. Используйте 8 px grid для ритмичного расположения элементов и выносите цвета, радиусы, тени, интервалы и типографику в дизайн‑токены【726677271835452†L38-L40】.

- **Оптимизация**. Применяйте lazy‑loading для тяжёлых компонентов и изображений; минимизируйте CSS/JS и генерируйте критический CSS【726677271835452†L41-L42】. Реализуйте PWA‑функциональность: возможность установки сайта как приложения на мобильное устройство【726677271835452†L43-L44】.

- **Edge‑first**. Оптимизируйте под CDN и edge‑rendering для минимальной задержки. Хостинг шрифтов и статики должен находиться рядом с пользователем【726677271835452†L60-L62】.

- **Безопасность**. Соблюдайте политику CSP, работайте только по HTTPS и регулярно обновляйте зависимости【726677271835452†L66-L67】.

- **Developer experience**. Используйте Storybook, Vitest/Playwright для тестов, ESLint/Prettier для линтинга и форматирования. Учитывайте возможность интеграции AI‑ассистентов для персонализации【726677271835452†L68-L69】.

## 3.1 Производительные метрики

Для соответствия современным стандартам (PWA, edge‑first) следует устанавливать измеримые цели производительности. Минимальные цели:

* **Largest Contentful Paint (LCP)** < 2 секунд.
* **Cumulative Layout Shift (CLS)** < 0.1.
* **First Input Delay (FID)** < 100 мс.

Измеряйте эти параметры с помощью Lighthouse и Web Vitals. Включайте проверку метрик в pipeline CI/CD, чтобы гарантировать, что новые изменения не ухудшают показатели. Эти метрики были рекомендованы как часть пробелов в первоначальном наборе документов【534680704413190†L688-L700】.

## 4 API и интеграции

- **REST/GraphQL**. Предоставьте API для загрузки туров, заявок, пользователей и других данных. Во время загрузки отображайте skeleton screens для плавного UX【726677271835452†L47-L49】. Создайте единый слой API‑вызовов с обработкой ошибок.

- **Auth API**. Интегрируйте OAuth2 / JWT для аутентификации с возможностью использования сторонних провайдеров (Google, Apple)【726677271835452†L50-L51】.

- **Мультиязычность**. Динамическая загрузка переводов. Компонент переключения языка должен быть доступен в шапке и адаптирован для мобильных устройств【726677271835452†L52-L53】.

- **Карты и геолокация**. Интеграция с Google Maps, Mapbox или аналогами; карты должны поддерживать кастомизацию в стиле Liquid Glass (blur overlays, кастомные маркеры)【726677271835452†L54-L55】.

- **Webhooks**. Возможность подключения внешних систем (CRM, мессенджеры, email) через вебхуки; реализуйте graceful degradation при сбоях【726677271835452†L56-L57】.

## 5 Лучшие практики 2025

- **Zero network fonts**: все шрифты хостятся локально; никаких сторонних запросов【726677271835452†L60-L61】.
- **Micro‑interactions**: используйте Framer Motion; эффекты должны быть мягкими и отключаться при `prefers‑reduced‑motion`【726677271835452†L63-L64】.
- **Edge‑first и security by default**: используйте CDN и сохраняйте безопасность по умолчанию【726677271835452†L62-L67】.
- **AI‑assisted personalization**: возможность подстраивать интерфейс под пользователя, используя AI (опционально)【726677271835452†L68-L70】.

## 6 Критерии приёмки

Проект считается готовым к запуску, если:

1. **Сайт полностью адаптивен**: корректно отображается на экранах разных размеров и не имеет горизонтальной прокрутки.
2. **Доступность подтверждена**: соблюдены требования WCAG 2.2 AA; элементы фокусируются, имеют ARIA‑атрибуты, поддерживают `prefers‑reduced‑motion` и `prefers‑color‑scheme`.
3. **Темы работают корректно**: автоматическое и ручное переключение между светлой и тёмной темами не приводит к потерям контраста или пропаданию элементов.
4. **Liquid Glass реализован**: полупрозрачные панели с размытиями выглядят аккуратно, не мешают восприятию контента и проверены на производительность.
5. **Технические требования соблюдены**: проект развёрнут на Next.js с TypeScript; Tailwind config содержит все дизайн‑токены; организована архитектура компонентов; реализованы PWA‑функции и оптимизация загрузки.
6. **Интеграции работают**: API успешно отвечает, отображая данные с помощью skeleton screens при загрузке; аутентификация через OAuth2/ JWT доступна; мультиязычность, карты и вебхуки реализованы.
7. **Документация актуальна**: дизайн‑гайд, цветовые правила и руководство по разработке находятся в репозитории и соответствуют фактическому коду; описаны инструкции по запуску проекта и добавлению новых компонентов.

### Дополнительные замечания

* Подробные инструкции по цветовой палитре, типографике, доступности и анимациям содержатся в `design_guidelines_constructour_2025_updated.md` и `color_design_guidelines_updated.md`. Чтобы избежать дублирования, данный документ перечисляет лишь основные требования и критерии приёмки; за деталями обращайтесь к указанным гайдам【534680704413190†L360-L460】.

Удовлетворение этих критериев обеспечивает, что продукт соответствует ожиданиям по удобству, доступности, производительности и современному внешнему виду.