# üì§ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö Konstructour

## üéØ –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∞

### 1. –≠–∫—Å–ø–æ—Ä—Ç –∏–∑ Airtable (`export-airtable.php`)
–í—ã–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ Airtable –≤ —Ñ–æ—Ä–º–∞—Ç–∞—Ö JSON –∏ CSV.

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- API —Ç–æ–∫–µ–Ω Airtable
- –î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É

### 2. –≠–∫—Å–ø–æ—Ä—Ç –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î (`export-local-db.php`)
–í—ã–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π SQLite –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –†–∞–±–æ—Ç–∞—é—â–∞—è –ª–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- PHP

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ–∫–µ–Ω–∞ Airtable
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
chmod +x setup-airtable-token.sh
./setup-airtable-token.sh

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
export AIRTABLE_PAT="your_token_here"
```

### –®–∞–≥ 2: –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
```bash
# –ò–∑ Airtable
php export-airtable.php

# –ò–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î
php export-local-db.php
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞

–í—Å–µ —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–ø–∫—É `exports/` —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏:

```
exports/
‚îú‚îÄ‚îÄ regions_2025-09-30_15-45-30.json
‚îú‚îÄ‚îÄ regions_2025-09-30_15-45-30.csv
‚îú‚îÄ‚îÄ cities_2025-09-30_15-45-30.json
‚îú‚îÄ‚îÄ cities_2025-09-30_15-45-30.csv
‚îú‚îÄ‚îÄ pois_2025-09-30_15-45-30.json
‚îú‚îÄ‚îÄ pois_2025-09-30_15-45-30.csv
‚îî‚îÄ‚îÄ all_data_2025-09-30_15-45-30.json
```

## üìä –§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö

### JSON
- –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Unicode
- –í–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏ –º–∞—Å—Å–∏–≤—ã

### CSV
- –ü–ª–æ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Excel/Google Sheets
- –í—Å–µ –ø–æ–ª—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–ª–æ–Ω–∫–∞—Ö

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Airtable

–¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞–±–ª–∏—Ü:
- **Base ID:** `apppwhjFN82N9zNqm`
- **Regions Table:** `tblbSajWkzI8X7M4U`
- **Cities Table:** `tblHaHc9NV0mA8bSa`
- **POIs Table:** `tblVCmFcHRpXUT24y`

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "API key not configured"
```bash
export AIRTABLE_PAT="your_token_here"
```

### –û—à–∏–±–∫–∞ "HTTP 401"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### –û—à–∏–±–∫–∞ "HTTP 404"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å Base ID –∏ Table ID
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ Airtable

## üìà –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –≠–∫—Å–ø–æ—Ä—Ç —Ç–æ–ª—å–∫–æ POI
```bash
# –°–æ–∑–¥–∞–π—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ export-airtable.php
# –ò–∑–º–µ–Ω–∏—Ç–µ –º–∞—Å—Å–∏–≤ $tables, –æ—Å—Ç–∞–≤–∏–≤ —Ç–æ–ª—å–∫–æ 'pois'
```

### –≠–∫—Å–ø–æ—Ä—Ç –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—É—é –ø–∞–ø–∫—É
```bash
# –ò–∑–º–µ–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é $exportDir –≤ —Å–∫—Ä–∏–ø—Ç–µ
```

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
```bash
# –î–æ–±–∞–≤—å—Ç–µ —É—Å–ª–æ–≤–∏—è WHERE –≤ SQL –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î
# –ò–ª–∏ —Ñ–∏–ª—å—Ç—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑ Airtable
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ —ç–∫—Å–ø–æ—Ä—Ç–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –≤ –∫–∞–∂–¥–æ–º —Ñ–∞–π–ª–µ
2. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∫–æ–¥–∏—Ä–æ–≤–∫–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –∫–∏—Ä–∏–ª–ª–∏—Ü—ã)
3. –ù–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–æ–ª–µ–π
4. –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏
