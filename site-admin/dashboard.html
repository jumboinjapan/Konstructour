<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Konstructour — Site Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="../styles/main.css" rel="stylesheet">
    <link href="../styles/admin-japanese.css" rel="stylesheet">
    <style>
        body { background: rgba(254, 251, 243, 1); min-height: 100vh; }
        .dashboard-grid { display: grid; grid-template-columns: 280px 1fr; gap: 0; min-height: 100vh; }
        .sidebar { background: linear-gradient(to bottom, rgba(254, 251, 243, 0.98), rgba(254, 251, 243, 0.95)); border-right: 1px solid rgba(139, 90, 43, 0.12); position: relative; backdrop-filter: blur(8px); }
        .sidebar::before { content: ''; position: absolute; inset: 0; background-image: repeating-linear-gradient(0deg, transparent, transparent 60px, rgba(139, 90, 43, 0.05) 60px, rgba(139, 90, 43, 0.05) 61px); pointer-events: none; }
        .stat-card { background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(236,229,221,0.9)); position: relative; overflow: hidden; }
        .stat-card::before { content: ''; position: absolute; top:-50%; right:-50%; width:200%; height:200%; background: radial-gradient(circle, rgba(var(--stat-color, 38, 67, 120), 0.1), transparent); animation: pulse 4s ease-in-out infinite; }
        @keyframes pulse { 0%,100%{transform:scale(1);opacity:.5;} 50%{transform:scale(1.1);opacity:.3;} }
        .menu-item{ position:relative; transition: all .3s ease; }
        .menu-item::before{ content:''; position:absolute; left:0; top:50%; width:3px; height:0; background: linear-gradient(to bottom, rgba(179, 38, 30, .8), rgba(38,67,120,.8)); transition: all .3s ease; transform: translateY(-50%); }
        .menu-item.active::before, .menu-item:hover::before{ height:70%; }
        .menu-item.active{ background: linear-gradient(to right, rgba(179,38,30,.1), transparent); }
        .japanese-table{ background:#fff; border:1px solid rgba(139,90,43,.1); }
        .japanese-table thead{ background: linear-gradient(to bottom, rgba(236,229,221,.5), rgba(236,229,221,.3)); }
        .japanese-table tbody tr{ transition: all .2s ease; }
        .japanese-table tbody tr:hover{ background: rgba(179, 38, 30, .05); }
        .chart-container{ background:#fff; border-radius:8px; position:relative; overflow:hidden; }
        .chart-container::after{ content:''; position:absolute; bottom:0; left:0; right:0; height:60px; background: linear-gradient(to top, rgba(179,38,30,.1), transparent); pointer-events:none; }
    </style>
</head>
<body>
    <div class="dashboard-grid">
        <!-- Боковая панель -->
        <aside class="sidebar texture-wood">
            <div class="p-6">
                <div class="flex items-center mb-8">
                    <div class="w-12 h-12 rounded-full bg-white shadow-md flex items-center justify-center mr-3">
                        <svg class="w-8 h-8 text-indigo-700" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"/></svg>
                    </div>
                    <div>
                        <h1 class="text-xl font-light text-gray-800">Konstructour</h1>
                        <p class="text-xs text-gray-600">Site Admin</p>
                    </div>
                </div>
                <nav class="space-y-2">
                    <a href="#dashboard" class="menu-item active sidebar-link"><i class="fas fa-th-large mr-3 text-indigo-600"></i>Обзор</a>
                    <a href="#api" class="menu-item sidebar-link"><i class="fas fa-code mr-3 text-indigo-600"></i>API</a>
                    <a href="#database" class="menu-item sidebar-link"><i class="fas fa-database mr-3 text-green-600"></i>База данных</a>
                    <a href="#guides" class="menu-item sidebar-link"><i class="fas fa-users mr-3 text-blue-600"></i>Гиды</a>
                    <a href="#ai" class="menu-item sidebar-link"><i class="fas fa-brain mr-3 text-purple-600"></i>AI аналитика</a>
                    <a href="#settings" class="menu-item sidebar-link"><i class="fas fa-cog mr-3 text-gray-500"></i>Настройки</a>
                </nav>
            </div>
            <div class="absolute bottom-0 left-0 right-0 p-6 glass-panel border-t border-gray-200">
                <div class="flex items-center">
                    <div class="w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-red-500 flex items-center justify-center text-white font-medium mr-3">SA</div>
                    <div class="flex-1">
                        <p class="text-sm font-medium text-gray-800">Site Admin</p>
                        <p class="text-xs text-gray-600">site-admin@konstructour.com</p>
                    </div>
                    <button id="logoutBtn" class="text-gray-400 hover:text-gray-600"><i class="fas fa-sign-out-alt"></i></button>
                </div>
            </div>
        </aside>

        <!-- Основное содержимое -->
        <main class="p-8">
            <header class="mb-8">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="text-3xl font-light text-gray-800 mb-1">Системный обзор</h2>
                        <p class="text-gray-600">API, база данных, интеграции и AI нагрузки</p>
                    </div>
                    <div class="flex items-center space-x-3">
                        <div class="glass-panel px-4 py-2 rounded-lg flex items-center space-x-2">
                            <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                            <span class="text-sm text-gray-700">Система работает</span>
                        </div>
                        <button data-theme-toggle class="glass-panel px-3 py-2 rounded-lg flex items-center space-x-2 text-gray-600 hover:text-gray-800" title="Переключить тему"><i class="fas fa-moon text-sm"></i><span class="text-xs">Тема</span></button>
                    </div>
                </div>
            </header>

            <!-- Метрики Site Admin -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="stat-card glass-panel p-6 rounded-lg" style="--stat-color: 38, 67, 120;">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-600 mb-1">Запросы к API</p>
                            <p class="text-2xl font-light text-gray-800">12,847</p>
                            <p class="text-xs text-green-600 mt-1">↑ 8.2% за день</p>
                        </div>
                        <div class="w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center"><i class="fas fa-chart-line text-indigo-600"></i></div>
                    </div>
                </div>
                <div class="stat-card glass-panel p-6 rounded-lg" style="--stat-color: 193, 216, 153;">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-600 mb-1">Нагрузка БД</p>
                            <p class="text-2xl font-light text-gray-800">45%</p>
                            <p class="text-xs text-blue-600 mt-1">Норма</p>
                        </div>
                        <div class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center"><i class="fas fa-database text-green-600"></i></div>
                    </div>
                </div>
                <div class="stat-card glass-panel p-6 rounded-lg" style="--stat-color: 179, 38, 30;">
                    <div class="flex items-center justify между">
                        <div>
                            <p class="text-sm text-gray-600 mb-1">AI запросы</p>
                            <p class="text-2xl font-light text-gray-800">2,156</p>
                            <p class="text-xs text-purple-600 mt-1">↑ 15.3% за неделю</p>
                        </div>
                        <div class="w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center"><i class="fas fa-brain text-purple-600"></i></div>
                    </div>
                </div>
                <div class="stat-card glass-panel p-6 rounded-lg" style="--stat-color: 38, 67, 120;">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-600 mb-1">Ошибки за час</p>
                            <p class="text-2xl font-light text-gray-800">3</p>
                            <p class="text-xs text-yellow-600 mt-1">Нужно проверить</p>
                        </div>
                        <div class="w-12 h-12 rounded-full bg-yellow-100 flex items-center justify-center"><i class="fas fa-exclamation-triangle text-yellow-600"></i></div>
                    </div>
                </div>
            </div>

            <!-- Таблица API и события -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="glass-panel p-6 rounded-lg">
                    <h3 class="text-lg font-light text-gray-800 mb-4"><i class="fas fa-server mr-2 text-indigo-600"></i>Статус API сервисов</h3>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between p-3 bg-white rounded-lg"><div class="flex items-center"><div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div><span class="text-sm font-medium">Auth API</span></div><span class="text-xs text-gray-500">99.9% uptime</span></div>
                        <div class="flex items-center justify-between p-3 bg-white rounded-lg"><div class="flex items-center"><div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div><span class="text-sm font-medium">Tours API</span></div><span class="text-xs text-gray-500">99.8% uptime</span></div>
                        <div class="flex items-center justify-between p-3 bg-white rounded-lg"><div class="flex items-center"><div class="w-2 h-2 bg-yellow-500 rounded-full mr-2"></div><span class="text-sm font-medium">AI API</span></div><span class="text-xs text-yellow-600">Медленный отклик</span></div>
                        <div class="flex items-center justify-between p-3 bg-white rounded-lg"><div class="flex items-center"><div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div><span class="text-sm font-medium">Database</span></div><span class="text-xs text-gray-500">Оптимально</span></div>
                    </div>
                </div>
                <div class="glass-panel p-6 rounded-lg">
                    <h3 class="text-lg font-light text-gray-800 mb-4"><i class="fas fa-bell mr-2 text-yellow-600"></i>Системные события</h3>
                    <div class="space-y-3 max-h-64 overflow-y-auto">
                        <div class="flex items-start space-x-3 p-3 bg-white rounded-lg"><div class="w-2 h-2 bg-green-500 rounded-full mt-2"></div><div class="flex-1"><p class="text-sm font-medium">Новый гид зарегистрирован</p><p class="text-xs text-gray-500">5 минут назад</p></div></div>
                        <div class="flex items-start space-x-3 p-3 bg-white rounded-lg"><div class="w-2 h-2 bg-blue-500 rounded-full mt-2"></div><div class="flex-1"><p class="text-sm font-medium">API обновлен до v2.1.0</p><p class="text-xs text-gray-500">15 минут назад</p></div></div>
                        <div class="flex items-start space-x-3 p-3 bg-white rounded-lg"><div class="w-2 h-2 bg-yellow-500 rounded-full mt-2"></div><div class="flex-1"><p class="text-sm font-medium">AI лимит на 80%</p><p class="text-xs text-gray-500">2 часа назад</p></div></div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script src="../js/admin-dashboard.js"></script>
</body>
</html>

