# üè• Health Dashboard - Konstructour

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Airtable –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

## üöÄ –î–æ—Å—Ç—É–ø –∫ –¥–∞—à–±–æ—Ä–¥—É

### –õ–æ–∫–∞–ª—å–Ω–æ
```
http://localhost:8000/site-admin/health-dashboard.html
```

### –ü—Ä–æ–¥–∞–∫—à–µ–Ω
```
https://www.konstructour.com/site-admin/health-dashboard.html
```

## üìä –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–∞—à–±–æ—Ä–¥–∞

### 1. **Airtable Health** üîç
- **Auth Status**: –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ (current/next)
- **Latency**: –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
- **Rate Limit**: –û—Å—Ç–∞—Ç–æ–∫ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –≤—Ä–µ–º—è —Å–±—Ä–æ—Å–∞
- **Raw Data**: –ü–æ–ª–Ω—ã–π JSON –æ—Ç–≤–µ—Ç (–ø–æ –∫–ª–∏–∫—É –Ω–∞ üëÅÔ∏è)

### 2. **Proxy WhoAmI** üîê
- **Auth**: –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
- **Status**: HTTP –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞
- **Raw Data**: –î–µ—Ç–∞–ª–∏ –∑–∞–ø—Ä–æ—Å–∞/–æ—Ç–≤–µ—Ç–∞

### 3. **Data Parity** ‚öñÔ∏è
- **Counts**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π (regions/cities/pois)
- **Orphans**: –°–∏—Ä–æ—Ç—Å–∫–∏–µ –∑–∞–ø–∏—Å–∏ –ø–æ FK
- **Status**: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Å–∏—Ä–æ—Ç

### 4. **Sync Probe** üîÑ
- **Last Result**: –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- **Counts**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
- **Status**: –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏

### 5. **Token Management** üîë
- **Current Status**: –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ç–µ–∫—É—â–µ–≥–æ —Ç–æ–∫–µ–Ω–∞
- **Next Available**: –ù–∞–ª–∏—á–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞
- **Last Promotion**: –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø—Ä–æ–º–æ—É—à–Ω–∞
- **Actions**: 
  - **Promote Next**: –ü—Ä–æ–º–æ—É—Ç–∏—Ç—å next ‚Üí current
  - **Rotate Token**: –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω –≤ next

### 6. **Performance** üìà
- **Avg Response**: –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
- **Success Rate**: –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **Rate Limit Hits**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ 429 –æ—à–∏–±–æ–∫
- **Mini Chart**: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10 –ø—Ä–æ–≤–µ—Ä–æ–∫

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –ë–∞–∑–æ–≤—ã–π URL API
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏
- –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω—ã–π URL –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ localStorage

### –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- **–í—ã–∫–ª**: –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- **15 —Å–µ–∫**: –ß–∞—Å—Ç–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- **30 —Å–µ–∫**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª
- **1 –º–∏–Ω**: –£–º–µ—Ä–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- **5 –º–∏–Ω**: –†–µ–¥–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

## üéØ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞
- üü¢ **–ó–µ–ª–µ–Ω—ã–π (OK)**: –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- üü° **–ñ–µ–ª—Ç—ã–π (WARN)**: –ï—Å—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- üî¥ **–ö—Ä–∞—Å–Ω—ã–π (ERR)**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
- ‚ö™ **–°–µ—Ä—ã–π**: –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Å—Ç–∞—Ç—É—Å–∞
- **Airtable Health**: `ok: true` + –≤–∞–ª–∏–¥–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
- **WhoAmI**: `auth: true` + HTTP 200
- **Data Parity**: `ok: true` + –Ω–µ—Ç —Å–∏—Ä–æ—Ç
- **Sync Probe**: `ok: true` + —É—Å–ø–µ—à–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- **Performance**: Success rate ‚â• 90%

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞–º–∏

### –ü—Ä–æ–º–æ—É—à–Ω —Ç–æ–∫–µ–Ω–∞
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ next —Å–ª–æ—Ç–µ –µ—Å—Ç—å –≤–∞–ª–∏–¥–Ω—ã–π —Ç–æ–∫–µ–Ω
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Promote Next"
3. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ next —Ç–æ–∫–µ–Ω

### –†–æ—Ç–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞
1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Rotate Token"
2. –í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π Airtable PAT —Ç–æ–∫–µ–Ω
3. –í–≤–µ–¥–∏—Ç–µ –∞–¥–º–∏–Ω —Ç–æ–∫–µ–Ω –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
4. –¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ next —Å–ª–æ—Ç

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ú–µ—Ç—Ä–∏–∫–∏
- **Response Time**: –í—Ä–µ–º—è –æ—Ç –∑–∞–ø—Ä–æ—Å–∞ –¥–æ –æ—Ç–≤–µ—Ç–∞
- **Success Rate**: –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **Rate Limiting**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ 429 –æ—à–∏–±–æ–∫

### –ò—Å—Ç–æ—Ä–∏—è
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 –∏–∑–º–µ—Ä–µ–Ω–∏–π
- –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ localStorage
- –ú–∏–Ω–∏-–≥—Ä–∞—Ñ–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç—Ä–µ–Ω–¥—ã

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: Airtable Health –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω—ã –≤ —Å–µ–∫—Ä–µ—Ç–∞—Ö
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Airtable API
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç 401/403 –æ—à–∏–±–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: Data Parity –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∏—Ä–æ—Ç
**–†–µ—à–µ–Ω–∏–µ:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –ë–î
2. –ò—Å–ø—Ä–∞–≤—å—Ç–µ —Å–∏—Ä–æ—Ç—Å–∫–∏–µ –∑–∞–ø–∏—Å–∏
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é

### –ü—Ä–æ–±–ª–µ–º–∞: Performance –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∏–∑–∫–∏–π success rate
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Å–µ—Ç–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ rate limiting
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –æ—à–∏–±–æ–∫

## üîç –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –ü–æ–ª–µ–∑–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ –ª–æ–≥–∞—Ö
- `AIRT/AUTH fail 401` - –û—à–∏–±–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- `AIRT/PROMOTE next‚Üícurrent` - –ü—Ä–æ–º–æ—É—à–Ω —Ç–æ–∫–µ–Ω–∞
- `429` + backoff - Rate limiting
- `SYNC start/commit/fail` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É üëÅÔ∏è –≤ –ª—é–±–æ–º —Ä–∞–∑–¥–µ–ª–µ
- –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–ª–Ω—ã–π JSON –æ—Ç–≤–µ—Ç
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏

## üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

### –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞ (1-2-3 –∫–æ–ª–æ–Ω–∫–∏)
- –£–¥–æ–±–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
- –ß–∏—Ç–∞–µ–º—ã–µ –º–∏–Ω–∏-–≥—Ä–∞—Ñ–∏–∫–∏

### –ü–ª–∞–Ω—à–µ—Ç—ã
- –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
- –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ñ—É–Ω–∫—Ü–∏—è–º
- –£–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞–º–∏

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –¢–æ–∫–µ–Ω—ã
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ UI
- –ü–µ—Ä–µ–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ API
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

### –ê–¥–º–∏–Ω —Ñ—É–Ω–∫—Ü–∏–∏
- –¢—Ä–µ–±—É—é—Ç –∞–¥–º–∏–Ω —Ç–æ–∫–µ–Ω
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```css
:root { 
  --ok:#10b981;    /* –ó–µ–ª–µ–Ω—ã–π –¥–ª—è OK */
  --err:#ef4444;   /* –ö—Ä–∞—Å–Ω—ã–π –¥–ª—è –æ—à–∏–±–æ–∫ */
  --warn:#f59e0b;  /* –ñ–µ–ª—Ç—ã–π –¥–ª—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π */
  --muted:#9ca3af; /* –°–µ—Ä—ã–π –¥–ª—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö */
}
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ localStorage
- `kt_health_base_url` - –ë–∞–∑–æ–≤—ã–π URL API
- `kt_health_auto_ms` - –ò–Ω—Ç–µ—Ä–≤–∞–ª –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `kt_health_perf_history` - –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üìö –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –° –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–º–∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ –∂–µ API endpoints
- –°–æ–≤–º–µ—Å—Ç–∏–º —Å `kt_airtable_diag.sh`
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

### –° –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å—é
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏—é
- –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ES6+
- –î–æ—Å—Ç—É–ø –∫ API endpoints
- localStorage –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∞–∑–æ–≤—ã–π URL –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
3. –í–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

---

**üí° –°–æ–≤–µ—Ç**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Health Dashboard –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–∏—Å—Ç–µ–º—ã –∏ –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã—è–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º.
